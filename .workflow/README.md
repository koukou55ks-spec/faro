# Workflow Files Directory

このディレクトリには開発ワークフロー管理ファイルが集約されています。

---

## 📁 ファイル一覧と役割

### WORKFLOW.md（メタ管理）
**役割**: ワークフロー全体を管理するマスターファイル
**内容**:
- 現在採用しているワークフロー一覧
- 各ワークフローの目的・フロー・効果
- 進化履歴
- 廃止済みワークフロー

**更新頻度**:
- ワークフロー追加時: 即座
- 月1回: 全体レビュー

**読むタイミング**:
- ワークフローを思い出したい時
- 新しいワークフローを検討する時

---

### STATUS.md（現状スナップショット）
**役割**: 開発環境の現在の状態
**内容**:
- 最新のgitコミット
- 変更ファイル数
- サーバー状態
- 今日の成果
- 次のアクション

**更新頻度**: AIが自動生成（セッション開始時、終了時）

**読むタイミング**: セッション開始時（AIが自動で読む）

**維持**: 手動編集不要、常に最新状態

---

### NEXT.md（次のタスク）
**役割**: 次にやるべきことTop 3
**内容**:
- 優先順位付きタスクリスト（3つまで）
- コンテキスト情報

**更新頻度**: AIが自動更新（セッション終了時）

**読むタイミング**: セッション開始時、迷った時

**維持**: シンプルに保つ（3つ以上にしない）

---

### SESSION_LOG.md（セッション記録）
**役割**: 各セッションの詳細記録
**内容**:
- Goal（目標）
- What happened（実際の出来事）
- Decisions made（技術的決定）
- Blockers（障害）
- Time breakdown（時間配分）
- Next session（次回予定）
- Learnings（学び：成功と失敗）
- Code changes（変更ファイル）

**更新頻度**: セッション終了時

**読むタイミング**:
- セッション開始時（AIが最新エントリを読む）
- 過去の決定を思い出したい時

**維持**: テンプレートに従って記録

---

### DECISIONS.md（技術的決定ログ）
**役割**: 重要な技術的決定を記録
**内容**:
- Context（なぜ必要になったか）
- Decision（何を決めたか）
- Alternatives（他の選択肢と却下理由）
- Consequences（メリット・デメリット）
- Reversibility（変更の難易度）

**更新頻度**: 重要な技術的決定をした時

**読むタイミング**:
- 「なぜこの実装なのか？」と疑問に思った時
- 似たような決定が必要になった時

**維持**: 重要な決定のみ記録（些細なものは不要）

---

### DEBT.md（技術的負債追跡）
**役割**: 「後で直す」を忘れないための記録
**内容**:
- Location（場所）
- Issue（問題内容）
- Impact（High/Medium/Low）
- Estimated（修正時間）
- Why not fixed now（なぜ今直さないのか）

**更新頻度**: TODO/FIXME/HACKを発見した時

**読むタイミング**:
- 週1回レビュー（金曜日推奨）
- リファクタリング時

**維持**: 解決したら「Resolved Debt」に移動

---

## 🔄 ファイル間の関係

```
WORKFLOW.md（マスター）
  ↓ 参照
STATUS.md + NEXT.md（今・次）
  ↓ 詳細記録
SESSION_LOG.md（過去の記録）
  ↓ 重要決定を抽出
DECISIONS.md（技術的決定）
  ↓ 負債を追跡
DEBT.md（技術的負債）
```

---

## 🎯 使い方ガイド

### セッション開始時
1. AIが自動で読むファイル:
   - `SESSION_LOG.md`（最新エントリ）
   - `STATUS.md`（自動生成）
   - `NEXT.md`
2. あなたがすること: 何もしない（AIが報告してくれる）

### セッション中
- AIが自動管理、あなたは実装に集中
- 重要な決定をしたら → `DECISIONS.md`に記録（AIが自動）
- TODOを発見したら → `DEBT.md`に記録（AIが自動）

### セッション終了時
1. AIが自動ですること:
   - `SESSION_LOG.md`に今日の記録追加
   - `NEXT.md`更新
   - `STATUS.md`更新
2. あなたがすること: 内容確認 → コミット

### 月1回（メンテナンス）
- `WORKFLOW.md`全体レビュー
- `DEBT.md`の優先度見直し
- 不要なワークフローを廃止

---

## 📏 ファイルサイズガイドライン

各ファイルが肥大化しないよう、以下を目安に：

| ファイル | 目安サイズ | 超えたら |
|---------|-----------|---------|
| STATUS.md | < 50行 | 古い情報を削除 |
| NEXT.md | < 20行 | タスクを3つに絞る |
| SESSION_LOG.md | < 1000行 | 四半期ごとにアーカイブ |
| DECISIONS.md | < 500行 | 年1回アーカイブ |
| DEBT.md | < 200行 | 解決したものを削除 |
| WORKFLOW.md | < 800行 | 廃止ワークフローを削除 |

---

## 🚫 やってはいけないこと

1. **手動編集しない**
   - STATUS.md, NEXT.mdは常にAI管理
   - 手動編集すると次回上書きされる

2. **ファイルを増やさない**
   - 新しいmdファイルを勝手に作らない
   - 必要なら`WORKFLOW.md`で議論してから

3. **テンプレートを無視しない**
   - 各ファイルには理由があるテンプレートがある
   - 勝手に形式を変えない

4. **全部読もうとしない**
   - 必要な時に必要なファイルだけ読む
   - 毎回全部読むのは時間の無駄

---

## 💡 トラブルシューティング

### 「STATUS.mdが古い」
→ AIが自動生成するので、セッション開始時に最新化される

### 「NEXT.mdのタスクが多すぎる」
→ 3つに絞る。それ以上は`SESSION_LOG.md`のNext sectionに書く

### 「SESSION_LOG.mdが長すぎて読めない」
→ 最新3エントリだけ読めばOK。古いものはアーカイブ

### 「DECISIONS.mdに何を書くべきかわからない」
→ 「1ヶ月後の自分が疑問に思いそうな決定」だけ書く

### 「ファイルを間違えて削除した」
→ gitで復元: `git checkout .workflow/[ファイル名]`

---

**Last updated**: 2025-10-12
**Maintainer**: AI + User (collaborative)
