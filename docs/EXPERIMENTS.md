# Faro実験的機能管理

## 概要

`experiments/`ディレクトリは、本番コードとは分離された実験的・研究的機能を保管する場所です。

## ディレクトリ構造

```
Taxhack/
├── apps/web/                    # 本番Webアプリケーション
├── packages/                    # 共有パッケージ
├── experiments/                 # 実験的機能 ⭐
│   ├── README.md               # 実験管理ガイド
│   ├── adaptive-canvas/        # 3D金融UI実験
│   │   ├── README.md          # 実験ドキュメント
│   │   ├── components/        # コンポーネント
│   │   └── *.ts               # ロジック
│   └── [future-experiments]/  # 将来の実験
└── docs/                       # ドキュメント
    └── EXPERIMENTS.md          # このファイル
```

## 実験の流れ

### 1. アイデア段階

```
💡 アイデア
  ↓
📝 コンセプト文書作成
  ↓
✅ 実装するか判断
```

### 2. 実装段階

```bash
# 新しい実験ディレクトリ作成
mkdir experiments/[実験名]

# READMEテンプレート作成
cat > experiments/[実験名]/README.md << 'EOF'
# [実験名]

## 目的
[なぜこれを作るか]

## 実装日
YYYY-MM-DD

## ステータス
- [ ] 進行中
- [ ] 完了（採用）
- [ ] 完了（不採用）
- [ ] 保留

## 技術スタック
[使用技術]

## 学び
[実装から得た知見]

## 採用/不採用の理由
[判断基準と結論]
EOF

# コード実装
# experiments/[実験名]/に自由に実装
```

### 3. 評価段階

実験を以下の基準で評価：

| 基準 | 重要度 | 評価観点 |
|------|--------|----------|
| **実用性** | ⭐⭐⭐ | ユーザーが実際に使えるか |
| **パフォーマンス** | ⭐⭐⭐ | 速度、メモリ使用量 |
| **保守性** | ⭐⭐⭐ | 将来メンテナンスできるか |
| **複雑性** | ⭐⭐ | シンプルさとのバランス |
| **ROI** | ⭐⭐ | 投資対効果 |
| **革新性** | ⭐ | 新しい価値の創出 |

### 4. 採用/不採用判断

#### ✅ 採用する場合

1. `README.md`のステータスを「完了（採用）」に更新
2. コードを本番ディレクトリにコピー
3. 本番用に最適化・簡略化
4. テストを追加
5. ドキュメント更新
6. **実験版は`experiments/`に保持**（参照用）

#### ❌ 不採用の場合

1. `README.md`のステータスを「完了（不採用）」に更新
2. 不採用の理由を詳細に記録
3. 学びを文書化
4. **コードは削除せず保持**
5. 将来の参考資料として活用

## 現在の実験

### Adaptive Canvas (不採用)

**ステータス**: ✅ 完了（不採用）
**実装日**: 2025-10-10
**ディレクトリ**: [experiments/adaptive-canvas/](../experiments/adaptive-canvas/)

**概要**: 3D金融データ可視化UI

**技術**:
- Three.js + React Three Fiber
- Zustand + Immer
- Framer Motion

**不採用理由**:
- 複雑性が高すぎる
- 実用性に欠ける
- メンテナンスコストが高い

**学び**:
- 3D UIは金融アプリには不向き
- シンプルさが最優先
- 段階的な改善が重要

**再利用可能な要素**:
- Morphing Messages → 2D版として検討
- AI Persona Manager → モード切替として検討

---

## ベストプラクティス

### ✅ Good

```markdown
# 明確な実験目的
このUIは「時間軸を直感的に理解する」ことを目指す

# 詳細なドキュメント
- 実装の背景
- 技術的課題
- 解決方法
- 学び

# スクリーンショット/デモ
![demo](./demo.gif)

# 明確な結論
採用/不採用の理由を具体的に記述
```

### ❌ Bad

```markdown
# 曖昧な目的
新しいUI作った

# ドキュメント不足
コードだけ

# 結論なし
なんとなく終了
```

## Git管理

### コミットメッセージ規約

```bash
# 新規実験開始
git commit -m "experiment: [実験名] - 実装開始"

# 実験進行中
git commit -m "experiment: [実験名] - [変更内容]"

# 実験完了（採用）
git commit -m "experiment: [実験名] - 完了（採用）"

# 実験完了（不採用）
git commit -m "experiment: [実験名] - 完了（不採用）、理由: [理由]"
```

### ブランチ戦略

実験は`master`ブランチに直接コミット可能（`experiments/`内のみ）

## FAQ

### Q: 実験コードを本番に使っていい？

A: **No**。実験コードは参照用です。本番に採用する場合は：
1. コードをコピー
2. 本番用に最適化
3. テスト追加
4. レビュー

### Q: 失敗した実験は削除すべき？

A: **No**。失敗も学びです。以下の理由で保持：
- 将来の参考資料
- 同じ間違いを繰り返さない
- 技術的知見の蓄積

### Q: どこまで実装すればいい？

A: **MVP（最小限の動作版）**で評価。完璧を目指さない。

### Q: 実験の期限は？

A: 明確な期限なし。ただし、**1週間経過したら中間評価**推奨。

## 関連ドキュメント

- [experiments/README.md](../experiments/README.md) - 実験管理ガイド
- [ARCHITECTURE.md](./ARCHITECTURE.md) - アーキテクチャ概要
- [CLAUDE.md](../CLAUDE.md) - プロジェクト指示書

---

**実験は失敗ではなく、学びの過程です。** 🚀

積極的に試し、学び、改善しましょう。
